# 라이브 배포 전 점검 체크리스트

배포 전 아래 항목을 한 번씩 실행해 보며 체크하세요. 각 항목은 **단계 + 기대 결과**로 적었습니다.

---

## 0. 자동 검증 (먼저 실행)

- [ ] `npm run lint` — ESLint 오류/경고 확인 (오류 있으면 수정 후 진행)
- [ ] `npm run typecheck` — `tsc --noEmit` 타입 오류 없음
- [ ] `npm run build` — Next 빌드 성공 (네트워크 필요: Google Fonts 등)
- [ ] (선택) `npm run test:e2e` — Playwright 스모크 테스트 통과. **최초 1회**: `npx playwright install` 로 브라우저 설치 후 실행. (`npm run dev` 없이 실행 시 config가 자동으로 dev 서버 기동)

---

## 1. 인증

- [ ] **비로그인**: 홈(`/`) 접속 시 글쓰기·프로필 등 로그인 유도 노출. 글 상세는 비로그인도 진입 가능(스피시 글은 블러).
- [ ] **Google 로그인**: `/login` → Google 로그인 → 리다이렉트(이전 `from` 또는 `/`). 관리자면 `/admin`으로.
- [ ] **시드 로그인**: `/login/seed`에서 이메일+비밀번호로 로그인 → 리다이렉트. 관리자면 `/admin`.
- [ ] **관리자 접근**: `admin_users`에 없는 계정으로 `/admin` 접근 시 홈(`/`)으로 리다이렉트.

---

## 2. 홈

- [ ] **피드 로드**: `/` 접속 시 트렌딩/최신 글 목록 로드. 스켈레톤 후 콘텐츠 표시.
- [ ] **탭**: 트렌딩 / 점메추 / 최신 구간으로 스크롤·탭 전환 시 해당 영역 노출.
- [ ] **카테고리 필터**: 전체·썰·먹·일·집 필터 선택 시 해당 카테고리만 노출.
- [ ] **실시간**: 새 글/댓글/리액션 등 실시간 구독 시 알림 버블 또는 피드 갱신.
- [ ] **배너**: 설정된 슬롯에 배너 광고 노출. 로테이션 초 단위 변경(설정값 적용).

---

## 3. 글

- [ ] **글쓰기**: `/write` 접속(로그인 필요). 제목·본문·카테고리·이미지(최대 3장)·스피시·투표/찬반 모듈 입력 후 제출 → 홈으로 이동, 새 글이 피드에 보임.
- [ ] **글 수정**: 본인 글 상세에서 메뉴 → 수정 → `/edit/[id]`에서 수정 후 저장 → 상세로 복귀.
- [ ] **글 삭제**: 본인 글 상세에서 메뉴 → 삭제 후 확인 → 홈으로 이동, 해당 글 사라짐.
- [ ] **상세 진입**: 피드에서 글 클릭 → `/p/[id]` 로드. 제목·본문·이미지·작성자·리액션·댓글·투표/찬반 표시.
- [ ] **이미지·OG**: 글 이미지 정상 노출. 공유 시 `/api/og` 또는 opengraph 메타 이미지 적용.

---

## 4. 댓글

- [ ] **댓글 작성**: 글 상세에서 댓글 입력 후 제출 → 목록에 즉시 반영. 350자 제한.
- [ ] **대댓글**: 댓글에 답글 작성 시 `parent_id`로 대댓글 표시.
- [ ] **댓글 수정/삭제**: 본인 댓글 수정·삭제 가능. 반영 즉시.
- [ ] **멘션**: `@익명1234` 형태 입력 시 해당 유저 멘션으로 표시(링크 또는 강조).

---

## 5. 인터랙션

- [ ] **리액션(🌶️)**: 글 상세에서 리액션 버튼 클릭 시 카운트 증가/취소. 타입별 이모지 표시.
- [ ] **투표**: 글에 투표 모듈 있으면 옵션 선택 후 제출. 중복 투표 불가. 결과 퍼센트/카운트 표시.
- [ ] **찬반 투표**: 찬성/반대 선택 후 제출. 결과 실시간 반영.
- [ ] **실시간 반영**: 다른 유저의 투표/찬반/리액션 시 Realtime 구독으로 숫자 갱신.

---

## 6. 점메추

- [ ] **추천/투표**: 점메추 섹션에서 오늘 메뉴 추천 또는 투표 참여. 마감 전에만 가능.
- [ ] **마감 후**: 마감 시각 이후 결과 노출. 1위 메뉴·점메추왕 표시.
- [ ] **점메추왕 표시**: 피드 아바타 영역에 등급 뱃지 아래 🏆 N 회 표시. 오늘의 점메추왕(🍱) 표시.

---

## 7. 알림

- [ ] **수신**: 댓글/리액션/투표/찬반 알림 시 실시간으로 토스트(버블) 노출.
- [ ] **알림 페이지**: `/notifications` 접속 시 목록 로드. 댓글·리액션·투표·찬반 타입별 표시.
- [ ] **링크**: 알림 항목 클릭 시 해당 글(`/p/[id]`)로 이동.

---

## 8. 프로필

- [ ] **내 프로필**: `/profile` 접속 시 익명이름·아바타·상태·프로필 색·티어 뱃지·글/댓글/리액션 수·점메추왕 횟수 표시.
- [ ] **익명이름·아바타·상태·색**: 프로필 편집에서 변경 후 저장 → 프로필·피드에 반영.
- [ ] **내 글 목록**: 프로필 → 내 글 → `/profile/posts` 목록. 클릭 시 해당 글 상세.
- [ ] **내 댓글 목록**: 프로필 → 내 댓글 → `/profile/comments` 목록. 클릭 시 해당 글·댓글 위치로.
- [ ] **차단 목록**: 프로필 → 차단 관리 → `/profile/blocked`. 차단 해제 시 목록에서 제거.

---

## 9. 공개 프로필

- [ ] **`/u/[userId]`**: 다른 유저 프로필(글 목록). 비로그인·다른 유저 접근 가능. 본인은 프로필 메뉴에서 내 프로필로 이동.

---

## 10. 관리자

- [ ] **대시보드**: `/admin` 접속 시 요약·신고·게시글·댓글·유저·비즈니스 등 링크 노출.
- [ ] **신고**: `/admin/reports` 목록·처리(해결/미해결)·대상 글/댓글/유저 링크 동작.
- [ ] **게시글 관리**: `/admin/posts` 목록·삭제 등 의도한 동작.
- [ ] **댓글 관리**: `/admin/comments` 목록·삭제 등 의도한 동작.
- [ ] **유저 관리**: `/admin/users` 목록·밴 등 의도한 동작.
- [ ] **비즈니스 스포트라이트**: `/admin/business` 목록·승인/반려·연락처·링크·인스타 URL 확인.
- [ ] **시드 계정**: `/admin/seed-accounts`에서 이메일(+익명이름) 입력 후 생성. 시드 로그인으로 해당 계정 로그인 가능.
- [ ] **배너 광고**: `/admin/banners`에서 슬롯별 배너 업로드·수정·삭제. 이미지·링크·노출 순서 확인.
- [ ] **사이트 설정**: `/admin/settings`에서 점메추 마감(타임존·시), 티어 요건·배지 색상 등 저장 후 반영.
- [ ] **활동 로그**: `/admin/logs`에서 최근 관리자 활동 로그 확인.

---

## 11. 기타

- [ ] **비즈니스 소개**: `/support` 접속 시 소개 폼·문의. 로그인 시 기존 제출 건 표시.
- [ ] **신고 API**: 글/댓글 신고 시 `/api/report` 호출·처리(예: 200·에러 메시지).
- [ ] **OG 이미지**: `/api/og` 또는 `opengraph-image`로 공유 시 메타 이미지 노출.
- [ ] **차단 유저**: 차단한 유저의 글·댓글이 피드/상세에서 숨김 또는 표시 제한.

---

## 체크 요약

- **0**: 자동 검증 4항
- **1~11**: 수동 점검 영역별 항목
- 모든 항목 통과 후 배포 진행 권장.
